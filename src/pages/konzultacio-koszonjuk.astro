---
/**
 * Consultation Thank You Page
 * /konzultacio-koszonjuk?lead=SL-XXXXX
 *
 * Shown after successful consultation wizard submission
 * Feminine, warm, reassuring design
 */
import BaseLayout from '@/layouts/BaseLayout.astro';
import { CONTACT } from '@/lib/constants';

const leadId = Astro.url.searchParams.get('lead') || '';
---

<BaseLayout
  title="K√∂sz√∂nj√ºk √©rdekl≈ëd√©s√©t"
  description="Megkaptuk konzult√°ci√≥ k√©r√©s√©t, hamarosan felvessz√ºk √ñnnel a kapcsolatot."
  noIndex={true}
>
  <section class="min-h-[80vh] flex items-center justify-center py-12 px-4">
    <div class="max-w-lg w-full text-center">
      <!-- Success animation -->
      <div class="mb-8 relative">
        <div class="success-circle w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-pink-100 to-rose-100 flex items-center justify-center">
          <svg class="success-check w-12 h-12 text-pink-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <!-- Decorative sparkles -->
        <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2 text-2xl sparkle-1">‚ú®</div>
        <div class="absolute top-4 right-1/4 text-lg sparkle-2">üíñ</div>
        <div class="absolute bottom-0 left-1/4 text-lg sparkle-3">‚ú®</div>
      </div>

      <!-- Heading -->
      <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-3">
        K√∂sz√∂nj√ºk sz√©pen! üíï
      </h1>

      <p class="text-lg text-gray-600 mb-8">
        Megkaptuk konzult√°ci√≥ k√©r√©s√©t.<br />
        <strong class="text-gray-800">Hamarosan felvessz√ºk √ñnnel a kapcsolatot!</strong>
      </p>

      <!-- Lead reference -->
      {leadId && (
        <div class="inline-flex items-center gap-2 bg-pink-50 rounded-full px-5 py-2 mb-8">
          <span class="text-sm text-pink-600">Azonos√≠t√≥:</span>
          <span class="font-mono font-semibold text-pink-700">{leadId}</span>
        </div>
      )}

      <!-- What happens next -->
      <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8 text-left">
        <h2 class="text-lg font-semibold text-gray-900 mb-5 text-center">Mi t√∂rt√©nik most?</h2>

        <div class="space-y-4">
          <div class="flex gap-4">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-pink-100 to-rose-100 flex items-center justify-center">
              <span class="text-pink-600 font-semibold">1</span>
            </div>
            <div class="pt-1">
              <p class="font-medium text-gray-900">√Åtn√©zz√ºk az ig√©nyeit</p>
              <p class="text-sm text-gray-500">Koll√©g√°nk feldolgozza a megadott inform√°ci√≥kat</p>
            </div>
          </div>

          <div class="flex gap-4">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-pink-100 to-rose-100 flex items-center justify-center">
              <span class="text-pink-600 font-semibold">2</span>
            </div>
            <div class="pt-1">
              <p class="font-medium text-gray-900">Telefonos egyeztet√©s</p>
              <p class="text-sm text-gray-500">1 munkanapon bel√ºl felh√≠vjuk a megadott sz√°mon</p>
            </div>
          </div>

          <div class="flex gap-4">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-pink-100 to-rose-100 flex items-center justify-center">
              <span class="text-pink-600 font-semibold">3</span>
            </div>
            <div class="pt-1">
              <p class="font-medium text-gray-900">Szem√©lyre szabott aj√°nlat</p>
              <p class="text-sm text-gray-500">Az ig√©nyei alapj√°n r√©szletes t√°j√©koztat√°st k√ºld√ºnk</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Urgent contact -->
      <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-6 mb-8">
        <p class="text-gray-700 mb-3">
          S√ºrg≈ës k√©rd√©s eset√©n h√≠vjon minket:
        </p>
        <a
          href={`tel:${CONTACT.phone}`}
          class="inline-flex items-center gap-3 text-2xl font-bold text-pink-600 hover:text-pink-700 transition-colors"
        >
          <span class="w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
          </span>
          {CONTACT.phoneDisplay}
        </a>
      </div>

      <!-- Navigation -->
      <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <a
          href="/"
          class="inline-flex items-center justify-center px-6 py-3 font-semibold rounded-xl bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg shadow-pink-200 hover:shadow-xl hover:from-pink-600 hover:to-rose-600 transition-all"
        >
          Vissza a f≈ëoldalra
        </a>
        <a
          href="/diodalezerek"
          class="inline-flex items-center justify-center px-6 py-3 font-semibold rounded-xl border-2 border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all"
        >
          Term√©kek b√∂ng√©sz√©se
        </a>
      </div>

      <!-- Social proof -->
      <div class="mt-10 pt-8 border-t border-gray-100">
        <p class="text-sm text-gray-500 mb-4">Csatlakozzon hozz√°nk a k√∂z√∂ss√©gi m√©di√°ban:</p>
        <div class="flex items-center justify-center gap-4">
          <a href="https://facebook.com/skinlabhungary" target="_blank" rel="noopener" class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-pink-100 hover:text-pink-600 transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.77,7.46H14.5v-1.9c0-.9.6-1.1,1-1.1h3V.5h-4.33C10.24.5,9.5,3.44,9.5,5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4Z"/></svg>
          </a>
          <a href="https://www.instagram.com/skinlabhungary" target="_blank" rel="noopener" class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-pink-100 hover:text-pink-600 transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12,2.16c3.2,0,3.58,0,4.85.07,3.25.15,4.77,1.69,4.92,4.92.06,1.27.07,1.65.07,4.85s0,3.58-.07,4.85c-.15,3.23-1.66,4.77-4.92,4.92-1.27.06-1.65.07-4.85.07s-3.58,0-4.85-.07c-3.26-.15-4.77-1.7-4.92-4.92-.06-1.27-.07-1.65-.07-4.85s0-3.58.07-4.85C2.38,3.92,3.9,2.38,7.15,2.23,8.42,2.18,8.8,2.16,12,2.16ZM12,0C8.74,0,8.33,0,7.05.07c-4.35.2-6.78,2.62-7,7C0,8.33,0,8.74,0,12s0,3.67.07,4.95c.2,4.36,2.62,6.78,7,7C8.33,24,8.74,24,12,24s3.67,0,4.95-.07c4.35-.2,6.78-2.62,7-7C24,15.67,24,15.26,24,12s0-3.67-.07-4.95c-.2-4.35-2.62-6.78-7-7C15.67,0,15.26,0,12,0Zm0,5.84A6.16,6.16,0,1,0,18.16,12,6.16,6.16,0,0,0,12,5.84ZM12,16a4,4,0,1,1,4-4A4,4,0,0,1,12,16ZM18.41,4.15a1.44,1.44,0,1,0,1.44,1.44A1.44,1.44,0,0,0,18.41,4.15Z"/></svg>
          </a>
          <a href="https://www.tiktok.com/@skinlabhungary" target="_blank" rel="noopener" class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-pink-100 hover:text-pink-600 transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19.59,6.69a4.83,4.83,0,0,1-3.77-4.25V2h-3.45V15.94a2.91,2.91,0,0,1-2.91,2.91,2.87,2.87,0,0,1-1.49-.42,2.91,2.91,0,0,1,1.49-5.4,2.85,2.85,0,0,1,.89.14V9.66a6.34,6.34,0,0,0-.89-.06A6.36,6.36,0,0,0,5.1,19.58a6.36,6.36,0,0,0,11.27-4V9.07a8.16,8.16,0,0,0,4.77,1.53V7.15A4.85,4.85,0,0,1,19.59,6.69Z"/></svg>
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Success animation */
  .success-circle {
    animation: scaleIn 0.5s ease-out;
  }

  .success-check {
    animation: checkDraw 0.6s ease-out 0.3s both;
  }

  @keyframes scaleIn {
    from {
      transform: scale(0);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes checkDraw {
    from {
      stroke-dasharray: 100;
      stroke-dashoffset: 100;
    }
    to {
      stroke-dasharray: 100;
      stroke-dashoffset: 0;
    }
  }

  /* Sparkle animations */
  .sparkle-1 {
    animation: float 2s ease-in-out infinite;
  }

  .sparkle-2 {
    animation: float 2.5s ease-in-out infinite 0.5s;
  }

  .sparkle-3 {
    animation: float 2s ease-in-out infinite 1s;
  }

  @keyframes float {
    0%, 100% {
      transform: translate(-50%, -8px) rotate(-5deg);
    }
    50% {
      transform: translate(-50%, 0) rotate(5deg);
    }
  }
</style>

<!-- Conversion tracking -->
<script define:vars={{ leadId }}>
  // Track conversion in Google Analytics
  if (typeof gtag === 'function' && leadId) {
    gtag('event', 'conversion', {
      send_to: 'AW-CONVERSION_ID/CONVERSION_LABEL',
      value: 1.0,
      currency: 'HUF',
      transaction_id: leadId,
    });
  }

  // Facebook Pixel
  if (typeof fbq === 'function') {
    fbq('track', 'Lead', {
      content_name: 'Consultation Wizard',
      lead_id: leadId,
    });
  }
</script>
